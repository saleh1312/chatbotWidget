<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" />
    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js" > </script>
    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js" > </script>

    <link rel="stylesheet" href="style.css">
    <title>Document</title>
</head>
<body>
    <script>

        var backgroundDiv = document.createElement("div");
        backgroundDiv.className = "electrPiDiv";
        

        var container = document.createElement("div");
        backgroundDiv.className = "electrPiContainer";


        var iframe = document.createElement("iframe");
        iframe.className = "electrPiDiv_iframe closeiframe";
        iframe.src="http://localhost:3100/"+"639ba58c30d557ff89300e6a"
        //iframe.style.display="none"
       

        
       
        var buttoncontainer = document.createElement("div");
        buttoncontainer.className = "electrPi_buttoncontainer";

        
        function getCSS(element) {

            var css_obj = getComputedStyle(element);
            var css_result={}
          
            for (var i = 0; i < css_obj.length; i++) {
                css_result[css_obj[i]]=css_obj.getPropertyValue(css_obj[i])
            }
            // console.log(css_result)
            return css_result;
        }

        /*
        buttoncontainer.onclick=function(){
            var iframee = document.getElementsByClassName("electrPiDiv_iframe")[0];
            var frame_styel=getCSS(iframee)
            if(frame_styel.display!=="block"){

                //iframee.style.display="block"
                iframee.classList.add("closeframe")
               

            }else{

                //iframee.style.display="none"
                iframee.classList.remove("closeframe")
            }
        }
        */

        var button = document.createElement("img");
        button.classList.add('electrPi_img');
        button.addEventListener('click', () => {
            button.classList.toggle('clicked');
            button_close.classList.toggle('clicked'); 
            iframe.classList.remove("closeiframe")

        });
        button.className = "electrPi_img";
        button.setAttribute('src','https://cdn.jsdelivr.net/gh/saleh1312/chatbotWidget@d5f9e36/speech-bubble.png');
        button.setAttribute('width','85');
        button.setAttribute('height','85');


        var button_close = document.createElement("img");
        button_close.classList.add('electrPi_img_close');
        button_close.addEventListener('click', () => {
            button.classList.remove('clicked');
            button_close.classList.remove('clicked');
            iframe.classList.toggle("closeiframe")
        });
        button_close.className = "electrPi_img_close";
        button_close.setAttribute('src','https://cdn.jsdelivr.net/gh/saleh1312/chatbotWidget@d5f9e36/cross.png');
        button_close.setAttribute('width','85');
        button_close.setAttribute('height','85');

        /*
        const button = document.createElement("button");
        button.className = "electrPi_button";

        const icon = document.createElement("i");
        icon.className = "fa fa-comment";

        button.appendChild(icon);
        button.addEventListener("mouseover", () => {
        icon.style.animation = "bounce 0.5s ease-in-out infinite alternate";
        });

        button.addEventListener("mouseout", () => {
        icon.style.animation = "none";
        });
        */


        ////////////////////////////////////// adding elements
        buttoncontainer.appendChild(button);
        buttoncontainer.appendChild(button_close);
        container.appendChild(iframe);
        container.appendChild(buttoncontainer);
        backgroundDiv.appendChild(container);
        document.body.appendChild(backgroundDiv);

        
    </script>
</body>
</html>
